{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  users: [],\n  id: 0,\n  name: \"\",\n  surname: \"\",\n  fullName: \"\",\n  email: \"\",\n  phone: 0,\n  password: \"\",\n  currentUser: JSON.parse(localStorage.getItem('currentUser')) || null,\n  isNewUser: true,\n  isLoggedIn: false\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    setName: (state, action) => {\n      state.name = action.payload;\n    },\n    setSurname: (state, action) => {\n      state.surname = action.payload;\n    },\n    setFullName: (state, action) => {\n      state.fullName = action.payload;\n      // if (action.payload && action.payload.name && action.payload.surname) {\n      //   const { name, surname } = action.payload;\n      //   state.fullName = `${name} ${surname}`;\n      // } else {\n      //   state.fullName = '';\n      // }\n    },\n    setEmail: (state, action) => {\n      state.email = action.payload;\n    },\n    setPhone: (state, action) => {\n      state.phone = action.payload;\n    },\n    setPassword: (state, action) => {\n      state.password = action.payload;\n    },\n    /* Create Account */\n    setNewUser: (state, action) => {\n      const newUser = {\n        id: state.users.length + 1,\n        fullName: state.fullName,\n        email: state.email,\n        password: state.password,\n        isNewUser: true,\n        isLoggedIn: true\n      };\n      state.users.push(newUser);\n      state.currentUser = newUser;\n    },\n    /* Login */\n    setCreatedUser: (state, action) => {\n      const {\n        email,\n        password\n      } = action.payload;\n      const user = state.users.find(user => user.email === email && user.password === password);\n      if (user) {\n        state.currentUser = user;\n        localStorage.setItem('currentUser', JSON.stringify(user));\n      } else {\n        state.currentUser = null;\n      }\n    },\n    /* Reset Password */\n    setNewPassword: (state, action) => {\n      const {\n        id,\n        newPassword\n      } = action.payload;\n      const user = state.users.find(user => user.id === id);\n      if (user) {\n        user.password = newPassword;\n      }\n    },\n    setLogOut: (state, action) => {\n      state.currentUser = null;\n      state.isLoggedIn = false;\n      localStorage.removeItem('currentUser');\n    }\n  }\n});\nexport const {\n  setName,\n  setSurname,\n  setFullName,\n  setEmail,\n  setPassword,\n  setNewUser,\n  setCreatedUser,\n  setNewPassword,\n  setPhone,\n  setLogOut\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","users","id","name","surname","fullName","email","phone","password","currentUser","JSON","parse","localStorage","getItem","isNewUser","isLoggedIn","authSlice","reducers","setName","state","action","payload","setSurname","setFullName","setEmail","setPhone","setPassword","setNewUser","newUser","length","push","setCreatedUser","user","find","setItem","stringify","setNewPassword","newPassword","setLogOut","removeItem","actions","reducer"],"sources":["C:/Users/Kseniia/travel_site/frontend/src/slices/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  id: 0,\r\n  name:\"\",\r\n  surname:\"\",\r\n  fullName:\"\",\r\n  email: \"\",\r\n  phone:0,\r\n  password: \"\",\r\n  currentUser: JSON.parse(localStorage.getItem('currentUser')) || null,\r\n  isNewUser:true,\r\n  isLoggedIn:false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    setName:(state,action) => {\r\n      state.name = action.payload;\r\n    },\r\n    setSurname:(state,action) => {\r\n      state.surname = action.payload;\r\n    },\r\n    setFullName : (state,action) => {\r\n     state.fullName = action.payload;\r\n      // if (action.payload && action.payload.name && action.payload.surname) {\r\n      //   const { name, surname } = action.payload;\r\n      //   state.fullName = `${name} ${surname}`;\r\n      // } else {\r\n      //   state.fullName = '';\r\n      // }\r\n      \r\n    },\r\n    setEmail: (state, action) => {\r\n      state.email = action.payload;\r\n    },\r\n    setPhone:(state,action) => {\r\n      state.phone = action.payload;\r\n    },\r\n    setPassword: (state, action) => {\r\n      state.password = action.payload;\r\n    },\r\n\r\n    /* Create Account */\r\n    setNewUser: (state, action) => {\r\n      const newUser = {\r\n        id: state.users.length + 1, \r\n        fullName: state.fullName,\r\n        email: state.email,\r\n        password: state.password,\r\n        isNewUser:true,\r\n        isLoggedIn:true,\r\n      };\r\n      state.users.push(newUser);\r\n      state.currentUser = newUser;\r\n    },\r\n\r\n    /* Login */\r\n    setCreatedUser: (state, action) => {\r\n      const { email, password } = action.payload;\r\n      const user = state.users.find(user => user.email === email && user.password === password);\r\n       if (user) {\r\n    state.currentUser = user;\r\n        localStorage.setItem('currentUser', JSON.stringify(user)); \r\n\r\n  } else {\r\n    state.currentUser = null;\r\n  }\r\n    },\r\n    /* Reset Password */\r\n    setNewPassword: (state, action) => {\r\n      const { id, newPassword } = action.payload;\r\n      const user = state.users.find(user => user.id === id);\r\n\r\n      if (user) {\r\n        user.password = newPassword;\r\n      }\r\n    },\r\n    setLogOut:(state,action)=> {\r\n      state.currentUser = null;\r\n      state.isLoggedIn = false;\r\n      localStorage.removeItem('currentUser')\r\n    }\r\n  }\r\n});\r\n\r\nexport const { setName,setSurname,setFullName,setEmail, setPassword, setNewUser, setCreatedUser, setNewPassword, setPhone,setLogOut } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}