{"ast":null,"code":"// import { createSlice } from \"@reduxjs/toolkit\";\n\n// const initialState = {\n//     userInfo :localStorage.getItem('userInfo') ? \n//     JSON.parse(localStorage.getItem('userInfo')) : null\n// }\n\n// const authSlice = createSlice({\n//     name:'auth',\n//     initialState,\n//     reducers:{\n//         setCredentials:(state,action) => {\n//             state.userInfo = action.payload;\n//             localStorage.setItem('userInfo',JSON.stringify(action.payload))\n//         },\n//         logout:(state,action) => {\n//             state.userInfo =null;\n//             localStorage.removeItem('userInfo')\n//         }\n//     }\n// })\n// export const{setCredentials,logout} = authSlice.actions;\n\n// export default authSlice.reducer;\n\nimport { createAsyncThunk, createSlice, isRejectedWithValue } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nconst API_URL = '/users';\nexport const signUpUser = createAsyncThunk('users/signup', async (userData, {\n  isRejectedWithValue\n}) => {\n  try {\n    const response = await axios.post(`${API_URL}/signup`, userData);\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    return isRejectedWithValue(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message);\n  }\n});\nexport const loginUser = createAsyncThunk('users/login', async (userData, {\n  isRejectedWithValue\n}) => {\n  try {\n    const response = await axios.post(`${API_URL}/login`, userData);\n    return response.data;\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    return isRejectedWithValue(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message);\n  }\n});\nexport const forgotPassword = createAsyncThunk('users/forgotPassword', async (email, {\n  isRejectedWithValue\n}) => {\n  try {\n    const response = await axios.post(`${API_URL}/forgotPassword`, {\n      email\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response3, _error$response3$data;\n    return isRejectedWithValue(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || error.message);\n  }\n});\nexport const resetPassword = createAsyncThunk('users/resetPassword', async ({\n  token,\n  password\n}, {\n  isRejectedWithValue\n}) => {\n  try {\n    const response = await axios.post(`${API_URL}/resetPassword/${token}`, {\n      password\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response4, _error$response4$data;\n    return isRejectedWithValue(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","createSlice","isRejectedWithValue","axios","API_URL","signUpUser","userData","response","post","data","error","_error$response","_error$response$data","message","loginUser","_error$response2","_error$response2$data","forgotPassword","email","_error$response3","_error$response3$data","resetPassword","token","password","_error$response4","_error$response4$data"],"sources":["C:/Users/Kseniia/travel_site/frontend/src/slices/authSlice.js"],"sourcesContent":["// import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// const initialState = {\r\n//     userInfo :localStorage.getItem('userInfo') ? \r\n//     JSON.parse(localStorage.getItem('userInfo')) : null\r\n// }\r\n\r\n// const authSlice = createSlice({\r\n//     name:'auth',\r\n//     initialState,\r\n//     reducers:{\r\n//         setCredentials:(state,action) => {\r\n//             state.userInfo = action.payload;\r\n//             localStorage.setItem('userInfo',JSON.stringify(action.payload))\r\n//         },\r\n//         logout:(state,action) => {\r\n//             state.userInfo =null;\r\n//             localStorage.removeItem('userInfo')\r\n//         }\r\n//     }\r\n// })\r\n// export const{setCredentials,logout} = authSlice.actions;\r\n\r\n// export default authSlice.reducer;\r\n\r\nimport { createAsyncThunk, createSlice, isRejectedWithValue } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nconst API_URL = '/users';\r\n\r\nexport const signUpUser = createAsyncThunk('users/signup',async(userData,{isRejectedWithValue})=> {\r\n    try{\r\n        const response = await axios.post(`${API_URL}/signup`,userData);\r\n        return response.data;\r\n    } catch (error) {\r\n        return isRejectedWithValue(error.response?.data?.message || error.message)\r\n    }\r\n});\r\n\r\nexport const loginUser = createAsyncThunk('users/login',async(userData,{isRejectedWithValue})=> {\r\n    try{\r\n        const response = await axios.post(`${API_URL}/login`,userData);\r\n        return response.data;\r\n    } catch (error) {\r\n        return isRejectedWithValue(error.response?.data?.message || error.message)\r\n    }\r\n});\r\n\r\nexport const forgotPassword = createAsyncThunk('users/forgotPassword',async(email,{isRejectedWithValue})=> {\r\n    try{\r\n        const response = await axios.post(`${API_URL}/forgotPassword`,{email});\r\n        return response.data;\r\n    } catch (error) {\r\n        return isRejectedWithValue(error.response?.data?.message || error.message)\r\n    }\r\n});\r\n\r\nexport const resetPassword = createAsyncThunk('users/resetPassword',async({token,password},{isRejectedWithValue})=> {\r\n    try{\r\n        const response = await axios.post(`${API_URL}/resetPassword/${token}`,{password});\r\n        return response.data;\r\n    } catch (error) {\r\n        return isRejectedWithValue(error.response?.data?.message || error.message)\r\n    }\r\n});\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}