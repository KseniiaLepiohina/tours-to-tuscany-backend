{"ast":null,"code":"// import { createSlice } from '@reduxjs/toolkit';\n\n// const initialState = {\n//   users: [],\n//   id: 0,\n//   name:\"\",\n//   surname:\"\",\n//   fullName:\"\",\n//   email: \"\",\n//   phone:0,\n//   password: \"\",\n//   currentUser: \"\",\n//   isNewUser:true,\n//   isLoggedIn:false,\n// };\n\n// const authSlice = createSlice({\n//   name: \"auth\",\n//   initialState,\n//   reducers: {\n//     setName:(state,action) => {\n//       state.name = action.payload;\n//     },\n//     setSurname:(state,action) => {\n//       state.surname = action.payload;\n//     },\n//     setFullName : (state,action) => {\n//      state.fullName = action.payload;\n//       // if (action.payload && action.payload.name && action.payload.surname) {\n//       //   const { name, surname } = action.payload;\n//       //   state.fullName = `${name} ${surname}`;\n//       // } else {\n//       //   state.fullName = '';\n//       // }\n\n//     },\n//     setEmail: (state, action) => {\n//       state.email = action.payload;\n//     },\n//     setPhone:(state,action) => {\n//       state.phone = action.payload;\n//     },\n//     setPassword: (state, action) => {\n//       state.password = action.payload;\n//     },\n\n//     /* Create Account */\n//     setNewUser: (state, action) => {\n//       const newUser = {\n//         id: state.users.length + 1, \n//         fullName: state.fullName,\n//         email: state.email,\n//         password: state.password,\n//         isNewUser:true,\n//         isLoggedIn:true,\n//       };\n//       state.users.push(newUser);\n//       state.currentUser = newUser;\n//     },\n\n//     /* Login */\n//     setCreatedUser: (state, action) => {\n// const { email, password } = action.payload || {};\n\n//   if (email && password) {\n//     const user = state.users.find(user => user.email === email && user.password === password);\n//     if (user) {\n//       state.currentUser = user;\n//       state.isLoggedIn = true;\n//       localStorage.setItem('currentUser', JSON.stringify(user));\n//     } else {\n//       state.currentUser = null;\n//     }\n//   } else {\n//     // fallback if data comes from localStorage\n//     state.currentUser = action.payload;\n//     state.isLoggedIn = true;\n//   }\n//     },\n//     /* Reset Password */\n//     setNewPassword: (state, action) => {\n//       const { id, newPassword } = action.payload;\n//       const user = state.users.find(user => user.id === id);\n\n//       if (user) {\n//         user.password = newPassword;\n//       }\n//     },\n//     setLogOut:(state,action)=> {\n//       state.currentUser = null;\n//       state.isLoggedIn = false;\n//       localStorage.removeItem('currentUser');\n//     }\n//   }\n// });\n\n// export const { setName,setSurname,setFullName,setEmail, setPassword, setNewUser, setCreatedUser, setNewPassword, setPhone,setLogOut } = authSlice.actions;\n// export default authSlice.reducer;\n\nconst initialState = {\n  currentUser: null,\n  isLoggedIn: false\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    setAuthUser: (state, action) => {\n      state.currentUser = action.payload;\n      state.isLoggedIn = !action.payload;\n      if (action.payload) {\n        localStorage.setItem(\"currentUser\", JSON.stringify(action.payload));\n      } else {\n        localStorage.removeItem(\"currentUser\");\n      }\n    },\n    logOut: state => {\n      state.currentUser = null;\n      state.isLoggedIn = false;\n      localStorage.removeItem(\"currentUser\");\n    }\n  }\n});","map":{"version":3,"names":["initialState","currentUser","isLoggedIn","authSlice","createSlice","name","reducers","setAuthUser","state","action","payload","localStorage","setItem","JSON","stringify","removeItem","logOut"],"sources":["C:/Users/Kseniia/Tuscany/frontend/src/slices/authSlice.js"],"sourcesContent":["// import { createSlice } from '@reduxjs/toolkit';\r\n\r\n// const initialState = {\r\n//   users: [],\r\n//   id: 0,\r\n//   name:\"\",\r\n//   surname:\"\",\r\n//   fullName:\"\",\r\n//   email: \"\",\r\n//   phone:0,\r\n//   password: \"\",\r\n//   currentUser: \"\",\r\n//   isNewUser:true,\r\n//   isLoggedIn:false,\r\n// };\r\n\r\n// const authSlice = createSlice({\r\n//   name: \"auth\",\r\n//   initialState,\r\n//   reducers: {\r\n//     setName:(state,action) => {\r\n//       state.name = action.payload;\r\n//     },\r\n//     setSurname:(state,action) => {\r\n//       state.surname = action.payload;\r\n//     },\r\n//     setFullName : (state,action) => {\r\n//      state.fullName = action.payload;\r\n//       // if (action.payload && action.payload.name && action.payload.surname) {\r\n//       //   const { name, surname } = action.payload;\r\n//       //   state.fullName = `${name} ${surname}`;\r\n//       // } else {\r\n//       //   state.fullName = '';\r\n//       // }\r\n      \r\n//     },\r\n//     setEmail: (state, action) => {\r\n//       state.email = action.payload;\r\n//     },\r\n//     setPhone:(state,action) => {\r\n//       state.phone = action.payload;\r\n//     },\r\n//     setPassword: (state, action) => {\r\n//       state.password = action.payload;\r\n//     },\r\n\r\n//     /* Create Account */\r\n//     setNewUser: (state, action) => {\r\n//       const newUser = {\r\n//         id: state.users.length + 1, \r\n//         fullName: state.fullName,\r\n//         email: state.email,\r\n//         password: state.password,\r\n//         isNewUser:true,\r\n//         isLoggedIn:true,\r\n//       };\r\n//       state.users.push(newUser);\r\n//       state.currentUser = newUser;\r\n//     },\r\n\r\n//     /* Login */\r\n//     setCreatedUser: (state, action) => {\r\n// const { email, password } = action.payload || {};\r\n\r\n//   if (email && password) {\r\n//     const user = state.users.find(user => user.email === email && user.password === password);\r\n//     if (user) {\r\n//       state.currentUser = user;\r\n//       state.isLoggedIn = true;\r\n//       localStorage.setItem('currentUser', JSON.stringify(user));\r\n//     } else {\r\n//       state.currentUser = null;\r\n//     }\r\n//   } else {\r\n//     // fallback if data comes from localStorage\r\n//     state.currentUser = action.payload;\r\n//     state.isLoggedIn = true;\r\n//   }\r\n//     },\r\n//     /* Reset Password */\r\n//     setNewPassword: (state, action) => {\r\n//       const { id, newPassword } = action.payload;\r\n//       const user = state.users.find(user => user.id === id);\r\n\r\n//       if (user) {\r\n//         user.password = newPassword;\r\n//       }\r\n//     },\r\n//     setLogOut:(state,action)=> {\r\n//       state.currentUser = null;\r\n//       state.isLoggedIn = false;\r\n//       localStorage.removeItem('currentUser');\r\n//     }\r\n//   }\r\n// });\r\n\r\n// export const { setName,setSurname,setFullName,setEmail, setPassword, setNewUser, setCreatedUser, setNewPassword, setPhone,setLogOut } = authSlice.actions;\r\n// export default authSlice.reducer;\r\n\r\nconst initialState={\r\n  currentUser:null,\r\n  isLoggedIn:false\r\n};\r\nconst authSlice = createSlice({\r\n  name:\"auth\",\r\n  initialState,\r\n  reducers:{\r\n    setAuthUser:(state,action) => {\r\n      state.currentUser = action.payload;\r\n      state.isLoggedIn = !action.payload\r\n      if(action.payload) {\r\n        localStorage.setItem(\"currentUser\",JSON.stringify(action.payload));\r\n      }else{\r\n        localStorage.removeItem(\"currentUser\")\r\n      }\r\n    },\r\n    logOut:(state)=> {\r\n      state.currentUser = null;\r\n      state.isLoggedIn = false;\r\n      localStorage.removeItem(\"currentUser\");\r\n    }\r\n  }\r\n})"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,MAAMA,YAAY,GAAC;EACjBC,WAAW,EAAC,IAAI;EAChBC,UAAU,EAAC;AACb,CAAC;AACD,MAAMC,SAAS,GAAGC,WAAW,CAAC;EAC5BC,IAAI,EAAC,MAAM;EACXL,YAAY;EACZM,QAAQ,EAAC;IACPC,WAAW,EAACA,CAACC,KAAK,EAACC,MAAM,KAAK;MAC5BD,KAAK,CAACP,WAAW,GAAGQ,MAAM,CAACC,OAAO;MAClCF,KAAK,CAACN,UAAU,GAAG,CAACO,MAAM,CAACC,OAAO;MAClC,IAAGD,MAAM,CAACC,OAAO,EAAE;QACjBC,YAAY,CAACC,OAAO,CAAC,aAAa,EAACC,IAAI,CAACC,SAAS,CAACL,MAAM,CAACC,OAAO,CAAC,CAAC;MACpE,CAAC,MAAI;QACHC,YAAY,CAACI,UAAU,CAAC,aAAa,CAAC;MACxC;IACF,CAAC;IACDC,MAAM,EAAER,KAAK,IAAI;MACfA,KAAK,CAACP,WAAW,GAAG,IAAI;MACxBO,KAAK,CAACN,UAAU,GAAG,KAAK;MACxBS,YAAY,CAACI,UAAU,CAAC,aAAa,CAAC;IACxC;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}